<!doctype html>
<html lang="zh-CN">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Lambda 编程</title>

    <link href="/images/favicon.ico" rel="shortcut icon">
    <link href="/styles/article.css" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js" integrity="sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
</head>

<body>
    <div class="article">
        <h2 class="title">Lambda 编程</h2>
        <p>Lambda 就是一小段可以作为参数传递的代码。</p>
        <h3 class="title">语法结构</h3>
        <p>{参数名1：参数类型，参数名2：参数类型 -> 函数体}</p>
        <p>函数体中可以编写任意行代码，但是不建议编写太长的代码；最后一行代码会自动作为 Lambda 表达式的返回值。</p>
        <h3 class="title">简化</h3>
        <pre>
        val list = listOf("Apple", "Banana", "Orange", "Pear", "Grape")
        val lambda = { fruit: String -> fruit.length }
        val maxLengthFruit = list.maxByOrNull(lambda)
        </pre>
        <p>可以看到，maxpByOrNull 函数接收一个 Lambda 参数，这种虽然写法没什么毛病，但是比较啰嗦，可简化的点非常多：</p>
        <p>首先，我们不需要专门定义一个 Lambda 变量，而是可以直接将 Lambda 表达式传入 maxByOrNull 函数：</p>
        <pre>
        val list = listOf("Apple", "Banana", "Orange", "Pear", "Grape")
        val maxLengthFruit = list.maxByOrNull({ fruit: String -> fruit.length })
        </pre>
        <p>然后 Kotlin 规定，当 Lambda 参数是函数的最后一个参数时，可以将 Lambda 表达式移到函数括号的外面：</p>
        <pre>
        val list = listOf("Apple", "Banana", "Orange", "Pear", "Grape")
        val maxLengthFruit = list.maxByOrNull(){ fruit: String -> fruit.length }
        </pre>
        <p>接下来，如果 Lambda 参数是函数的唯一参数的话，还可以将函数的括号省略：</p>
        <pre>
        val list = listOf("Apple", "Banana", "Orange", "Pear", "Grape")
        val maxLengthFruit = list.maxByOrNull{ fruit: String -> fruit.length }
        </pre>
        <p>并且，由于 Kotlin 拥有出色的类型推导机制，Lambda 表达式中的参数列表其实在大多数情况下不必声明参数类型：</p>
        <pre>
        val list = listOf("Apple", "Banana", "Orange", "Pear", "Grape")
        val maxLengthFruit = list.maxByOrNull{ fruit -> fruit.length }
        </pre>
        <p>当 Lambda 表达式的参数列表中只有一个参数时，也不必声明参数名而是可以使用 it 关键字来代替：</p>
        <pre>
        val list = listOf("Apple", "Banana", "Orange", "Pear", "Grape")
        val maxLengthFruit = list.maxByOrNull{ it -> it.length }
        </pre>
        <p>到这里，我们就掌握了 Lambda 的基本特性。</p>
    </div>
</body>

</html>